<chapter id="oracle">
	<title>Manager</title>

	<section id="oracle.listener">
		<title>listener.ora</title>
		<screen>
		<![CDATA[
[root@database ~]# cat /u01/app/oracle/product/10.2.0.1/network/admin/listener.ora
# listener.ora Network Configuration File: /u01/app/oracle/product/10.2.0.1/network/admin/listener.ora
# Generated by Oracle configuration tools.

SID_LIST_LISTENER =
  (SID_LIST =
    (SID_DESC =
      (SID_NAME = PLSExtProc)
      (ORACLE_HOME = /u01/app/oracle/product/10.2.0.1)
      (PROGRAM = extproc)
    )
  )

LISTENER =
  (DESCRIPTION_LIST =
    (DESCRIPTION =
      (ADDRESS = (PROTOCOL = IPC)(KEY = EXTPROC1))
      (ADDRESS = (PROTOCOL = TCP)(HOST = database.example.com)(PORT = 1521))
    )
  )		
		]]>
		</screen>
	
	</section>
	

	<section id="oracle.tns">
		<title>TNS 配置</title>
		<para>tnsnames.ora 文件默认在 network/admin/tnsnames.ora</para>
		<para>有些情况如你没有权限修改network/admin/tnsnames.ora, 你可以在$HOME下创建一个.tnsnames.ora文件</para>
		<screen>
		<![CDATA[
[oracle@orcl admin]$ cat tnsnames.ora
# tnsnames.ora Network Configuration File: /opt/oracle/product/11.2.0/dbhome_1/network/admin/tnsnames.ora
# Generated by Oracle configuration tools.

ORCL =
  (DESCRIPTION =
    (ADDRESS = (PROTOCOL = TCP)(HOST = oral.example.com)(PORT = 1521))
    (CONNECT_DATA =
      (SERVER = DEDICATED)
      (SERVICE_NAME = orcl.example.com)
    )
  )
		]]>
		</screen>
		<para>测试TNS</para>
		<screen>
$ sqlplus sys/chen@orcl
		</screen>
		
		<section>
			<title>HOST</title>
			<para>HOST可以使用IP地址 HOST = 192.168.0.5 建议改为hostname 例如HOST = oral.example.com这样方便服务器更换IP。</para>
			<screen>
ORCL =
  (DESCRIPTION =
    (ADDRESS_LIST =
      (ADDRESS = (PROTOCOL = TCP)(HOST = 192.168.0.5)(PORT = 1521))
    )
    (CONNECT_DATA =
      (SERVICE_NAME = orcl.example.com)
    )
  )
			</screen>
			<para>SERVICE_NAME通過show parameter service_name;查詢</para>
			<screen>
$ sqlplus user@orcl
			</screen>
		</section>
			<section id="tns.sid">
			<title>SID</title>
			<para>Oracle 10G 之前多采用 SID = oradb</para>
			<para>10G之后更多使用 SERVICE_NAME = orcl.example.com</para>
			<screen>
			<![CDATA[
oradb10g =
  (DESCRIPTION =
    (ADDRESS_LIST =
      (ADDRESS = (PROTOCOL = TCP)(HOST = db1.domain.com)(PORT = 1521))
    )
    (CONNECT_DATA =
      (SID = oradb10g)
    )
  )

oradb =
  (DESCRIPTION =
    (ADDRESS_LIST =
      (ADDRESS = (PROTOCOL = TCP)(HOST = db2.domain.com)(PORT = 1521))
    )
    (CONNECT_DATA =
      (SID = oradb)
    )
  )	
			]]>
			</screen>
		</section>
	</section>

</chapter>


	&chapter.privilege.xml;
	&chapter.administrator.xml;
	

	